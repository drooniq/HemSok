@inject IAPIService APIService
@inject INavigationStateService NavigationStateService
@inject IAuthStateService AuthStateService

<style>
    .card-main {
        background-color: white;
        border-radius: 10px;
        padding: 20px;
        margin: 20px;
        box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.1);
        color: black;
        width: 400px;
    }

    .card-main p {
        margin: 0;
        padding: 5px;
        font-size: 1rem;
    }

    .card-main img {
        width: 200px;
        height: auto;
    }
</style>

<div class="card-main">

    @if(Agency != null)
    {
        <h4>@Agency.Name</h4>
        <img src="@Agency.ImagePath" />
        <p></p>
    }
    else
    {
        <p>No agency found.</p>
    }
</div>

@code {
    [Parameter]
    public int AgencyId { get; set; }
    public Agency? Agency { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Agency = await APIService.GetFromApiAsync<Agency>("/api/agency/" + AgencyId);
    }
}
