@inject NavigationManager NavigationManager

@if (Agent != null)
{
    <div class="card m-3 rounded" @onclick="@(() => NavigationManager.NavigateTo($"/detailsagent/{Agent.Id}"))">
        <div class="card-img">
            <div class="img-container">
                <img src=" @(string.IsNullOrEmpty(Agent.ImagePath) ?
                    (string.IsNullOrEmpty(Agent.Agency.ImagePath) ?
                    "images/ghost1.png" : Agent.Agency.ImagePath) : Agent.ImagePath)"
                        alt="Profilbild"
                        class=" m-1" />
            </div>
        </div>
        <div class="card-body">
            <div class="card-title">
                <div class="card-title-left">
                    <h5>@Agent.FirstName @Agent.LastName</h5>
                    <p>"@Agent.Nickname"</p>
                    <small class="text-muted">@Residences?.Count(r => r.Agent.Id == Agent.Id) objekt till salu</small>
                </div>

            </div>
        </div>
        <div class="card-footer">
            <div class="left-footer">
                <small class="text-muted">@Agent.Agency.Name</small>
            </div>
            <div class="right-footer">
                <img src="@(string.IsNullOrEmpty(Agent.Agency.ImagePath) ?
                                    "gif/floatingghost.png" : Agent.Agency.ImagePath)"
                     alt="Mäklarfirma logga"
                     class="card-footer-image" />
            </div>
        </div>
    </div>
}
else
{
    <p>Mäklarna kommer vid midnatt</p>
}

@code {
    [Parameter]
    public Agent? Agent { get; set; }
    [Parameter]
    public List<Residence>? Residences { get; set; }
}
<style>
    body {
        width: 100vw;
        height: 100vh;
        background: linear-gradient(217deg, rgba(7, 9, 92, 1), rgba(123, 65, 161, 0) 70.71%), linear-gradient(127deg, rgba(160, 190, 235, 0.8), rgba(2, 19, 44, 0.8) 70.71%);
    }

    .container {
        display: flex;
        flex-wrap: wrap;
        justify-content: normal;
    }

    .card {
        width: 18rem;
        height: 22rem;
        box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.8);
        border: 1px solid black;
        transition: 0.3s ease;
        cursor: pointer;
        overflow: hidden;
    }

        .card:hover {
            transform: translateY(-15px);
            box-shadow: 0 16px 32px 0 rgba(0, 0, 0, 0.6);
        }

    .card-body {
        padding: 0.5rem;
        height: 35%;
        overflow: auto;
    }

    .card-footer {
        background-color: rgba(200,200,200,0.7);
        padding: 0.5rem;
        display: flex;
        align-items: center;
        height: 15%;
    }

    .card-footer-image {
        max-height: 2rem;
        max-width: 4rem;
        display: inline;
    }

    .left-footer {
        padding: 0px;
        flex: 1;
    }

    .right-footer {
        padding: 0px;
        max-width: 4rem;
    }

    .card-title {
        padding: 0px;
        margin: 0px;
        display: flex;
    }

    .card-img {
        height: 50%;
        display:flex;
        justify-content: center;
        align-items: center;
    }

    .img-container {
        width: 100%;
        height: 100;
        border-radius: 50%;
        overflow: hidden;
        position: relative;
    }

        .img-container img {
            position: absolute;
            width: 100%;
            height: 100;
            object-fit: cover;
        }

</style>